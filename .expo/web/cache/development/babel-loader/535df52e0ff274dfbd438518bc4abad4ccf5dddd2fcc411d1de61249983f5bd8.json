{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nimport React, { useState, useEffect } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport { useNavigation } from \"@react-navigation/native\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar GalleryScreen = function GalleryScreen() {\n  var navigation = useNavigation();\n  var _useState = useState([{\n      id: 1,\n      src: require(\"../images/image1.jpg\"),\n      name: \"img1\"\n    }, {\n      id: 2,\n      src: require(\"../images/image2.jpg\"),\n      name: \"img2\"\n    }, {\n      id: 3,\n      src: require(\"../images/image3.jpg\"),\n      name: \"img3\"\n    }]),\n    _useState2 = _slicedToArray(_useState, 2),\n    images = _useState2[0],\n    setImages = _useState2[1];\n  var _useState3 = useState(false),\n    _useState4 = _slicedToArray(_useState3, 2),\n    isRenameMode = _useState4[0],\n    setIsRenameMode = _useState4[1];\n  var _useState5 = useState({}),\n    _useState6 = _slicedToArray(_useState5, 2),\n    newNames = _useState6[0],\n    setNewNames = _useState6[1];\n  var handleLongPress = function handleLongPress(image) {\n    Alert.alert('Выберите действие', '', [{\n      text: 'Отмена',\n      onPress: function onPress() {\n        return console.log('отменено');\n      }\n    }, {\n      text: 'Удалить',\n      onPress: function onPress() {\n        return handleDelete(image.id);\n      }\n    }, {\n      text: 'Переименовать',\n      onPress: function onPress() {\n        return handleRename(image.id);\n      }\n    }], {\n      cancelable: true\n    });\n  };\n  var handleDelete = function handleDelete(id) {\n    setImages(function (prevImages) {\n      return prevImages.filter(function (image) {\n        return image.id !== id;\n      });\n    });\n  };\n  var handleRename = function handleRename(id) {\n    setIsRenameMode(true);\n    setNewNames(function (prevNewNames) {\n      return _objectSpread(_objectSpread({}, prevNewNames), {}, _defineProperty({}, id, \"\"));\n    });\n  };\n  var saveRename = function saveRename(id) {\n    setImages(function (prevImages) {\n      return prevImages.map(function (image) {\n        return image.id === id ? _objectSpread(_objectSpread({}, image), {}, {\n          name: newNames[id]\n        }) : image;\n      });\n    });\n    setIsRenameMode(false);\n  };\n  var renderItem = function renderItem(_ref) {\n    var item = _ref.item;\n    return _jsx(TouchableOpacity, {\n      onLongPress: function onLongPress() {\n        return handleLongPress(item);\n      },\n      children: _jsxs(View, {\n        children: [isRenameMode && _jsx(TextInput, {\n          placeholder: \"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u043D\\u043E\\u0432\\u043E\\u0435 \\u0438\\u043C\\u044F\",\n          value: newNames[item.id],\n          onChangeText: function onChangeText(text) {\n            return setNewNames(function (prevNewNames) {\n              return _objectSpread(_objectSpread({}, prevNewNames), {}, _defineProperty({}, item.id, text));\n            });\n          },\n          onBlur: function onBlur() {\n            return saveRename(item.id);\n          }\n        }), !isRenameMode && _jsx(Text, {\n          children: item.name\n        }), _jsx(Image, {\n          source: item.src,\n          style: {\n            width: 100,\n            height: 100\n          }\n        })]\n      })\n    });\n  };\n  return _jsx(View, {\n    children: _jsx(FlatList, {\n      data: images,\n      renderItem: renderItem,\n      keyExtractor: function keyExtractor(item) {\n        return item.id.toString();\n      }\n    })\n  });\n};\nexport default GalleryScreen;","map":{"version":3,"names":["React","useState","useEffect","View","Text","FlatList","TouchableOpacity","Image","Alert","TextInput","useNavigation","jsx","_jsx","jsxs","_jsxs","GalleryScreen","navigation","_useState","id","src","require","name","_useState2","_slicedToArray","images","setImages","_useState3","_useState4","isRenameMode","setIsRenameMode","_useState5","_useState6","newNames","setNewNames","handleLongPress","image","alert","text","onPress","console","log","handleDelete","handleRename","cancelable","prevImages","filter","prevNewNames","_objectSpread","_defineProperty","saveRename","map","renderItem","_ref","item","onLongPress","children","placeholder","value","onChangeText","onBlur","source","style","width","height","data","keyExtractor","toString"],"sources":["C:/Users/Некит/Desktop/proj/onay/components/GalleryScreen.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { View, Text, FlatList, TouchableOpacity, Image, Alert, TextInput } from 'react-native';\r\nimport { useNavigation } from \"@react-navigation/native\";\r\n\r\nconst GalleryScreen = () => {\r\n    const navigation = useNavigation();\r\n    const [images, setImages] = useState([\r\n        { id: 1, src: require('../images/image1.jpg'), name: \"img1\" },\r\n        { id: 2, src: require('../images/image2.jpg'), name: \"img2\" },\r\n        { id: 3, src: require('../images/image3.jpg'), name: \"img3\" },\r\n    ]);\r\n\r\n    const [isRenameMode, setIsRenameMode] = useState(false);\r\n    const [newNames, setNewNames] = useState({});\r\n\r\n    const handleLongPress = (image) => {\r\n        Alert.alert('Выберите действие', '', [\r\n            { text: 'Отмена', onPress: () => console.log('отменено') },\r\n            { text: 'Удалить', onPress: () => handleDelete(image.id) },\r\n            { text: 'Переименовать', onPress: () => handleRename(image.id) },\r\n        ],\r\n            { cancelable: true }\r\n        )\r\n    }\r\n\r\n    const handleDelete = (id) => {\r\n        setImages((prevImages) => prevImages.filter((image) => image.id !== id));\r\n    }\r\n\r\n    const handleRename = (id) => {\r\n        setIsRenameMode(true);\r\n        setNewNames((prevNewNames) => ({ ...prevNewNames, [id]: \"\" }));\r\n    };\r\n\r\n    const saveRename = (id) => {\r\n        setImages((prevImages) =>\r\n            prevImages.map((image) =>\r\n                image.id === id ? { ...image, name: newNames[id] } : image\r\n            )\r\n        );\r\n        setIsRenameMode(false);\r\n    };\r\n\r\n    const renderItem = ({ item }) => (\r\n        <TouchableOpacity onLongPress={() => handleLongPress(item)}>\r\n            <View>\r\n\r\n                {isRenameMode && (\r\n                    <TextInput\r\n                        placeholder=\"Введите новое имя\"\r\n                        value={newNames[item.id]}\r\n                        onChangeText={(text) => setNewNames((prevNewNames) => ({...prevNewNames,[item.id]:text}))}\r\n                        onBlur={() => saveRename(item.id)}\r\n                    />\r\n                )}\r\n                {!isRenameMode && <Text>{item.name}</Text>}\r\n                <Image source={item.src} style={{ width: 100, height: 100 }} />\r\n            </View>\r\n        </TouchableOpacity>\r\n    );\r\n\r\n    return (\r\n        <View>\r\n            <FlatList data={images}\r\n                renderItem={renderItem}\r\n                keyExtractor={(item) => item.id.toString()} />\r\n        </View>\r\n    )\r\n\r\n}\r\n\r\nexport default GalleryScreen;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}